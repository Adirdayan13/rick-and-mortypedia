(this["webpackJsonprick-and-mortypedia"]=this["webpackJsonprick-and-mortypedia"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){},,function(e,t,a){e.exports=a(30)},,,,,function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(14),c=a.n(r),i=(a(20),a(4)),l=a(5),o=a(7),u=a(6),h=a(2),m=a.n(h),p=a(1),d=a(3),f=a(8),g=a.n(f);a(26);var E=function(e){return console.log("props: ",e),s.a.createElement("div",{className:"more-info"},s.a.createElement("h3",{className:"x",onClick:e.close},"X"),s.a.createElement("img",{alt:"character",className:"more-info-pic",src:e.info.image?e.info.image:null}),s.a.createElement("h1",null,e.info.name?e.info.name:null),s.a.createElement("h4",null,"Status: ",e.info.status?e.info.status:null),s.a.createElement("h4",null,"Gender: ",e.info.gender?e.info.gender:null),s.a.createElement("h4",null,"Origin: ",e.info.origin?e.info.origin.name:null),s.a.createElement("h4",null,"Speicies: ",e.info.species?e.info.species:null),e.info.type?s.a.createElement("h4",null,"Type: ",e.info.type):null,s.a.createElement("h4",null,"Location: ",e.info.location?e.info.location.name:null),s.a.createElement("br",null),s.a.createElement("h6",null,"Appeared in the following episodes:"),s.a.createElement("br",null),s.a.createElement("div",{className:"episodes"},e.info.episode&&e.info.episode.map((function(e,t){return s.a.createElement("span",{className:"episode",key:t},e.slice(40,e.length))}))))},v=(a(12),a(13),function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handlePageChange=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(p.a)(Object(p.a)({},n.state),{},{currentPage:t}));case 2:if(n.state.filter){e.next=7;break}return e.next=5,n.fetchNextTen();case 5:e.next=8;break;case 7:n.fetchFiltered(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={currentPage:1,itemsPerPage:20,filter:!1,totalCharacters:0,showCharacter:!1,characters:"",next:!1,prev:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchCharacter();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchCharacter",value:function(){var e=this;fetch("https://rickandmortyapi.com/api/character/").then((function(e){return e.json()})).then(function(){var t=Object(d.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState(Object(p.a)(Object(p.a)({},e.state),{},{totalCharacters:a.info.count,characters:a.results}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"fetchNextTen",value:function(){var e=this;this.startIndex=this.state.itemsPerPage*(this.state.currentPage-1),this.lastIndex=this.state.itemsPerPage*this.state.currentPage,this.lastIndex=this.lastIndex>this.state.totalCharacters?this.state.totalCharacters:this.lastIndex;for(var t=[],a=this.startIndex+1;a<=this.lastIndex;a++)t.push(a);console.log("charactersIds: ",t),fetch("https://rickandmortyapi.com/api/character/".concat(t.join(","))).then((function(e){return e.json()})).then((function(t){e.setState(Object(p.a)(Object(p.a)({},e.state),{},{characters:t}))}))}},{key:"replaceChar",value:function(e,t,a){return e.substr(0,a)+t+e.substr(a+1)}},{key:"fetchFiltered",value:function(e){var t=this;if(e||fetch("https://rickandmortyapi.com/api/character/?species=".concat(this.state.filter)).then((function(e){return e.json()})).then((function(e){t.setState(Object(p.a)(Object(p.a)({},t.state),{},{characters:e.results,totalCharacters:e.info.count,next:e.info.next,prev:!!e.info.prev&&e.info.prev}))})),e&&this.state.next||e&&this.state.prev){var a=this.replaceChar(this.state.next||this.state.prev,e,48);fetch(a).then((function(e){return e.json()})).then((function(e){t.setState(Object(p.a)(Object(p.a)({},t.state),{},{characters:e.results,totalCharacters:e.info.count,next:e.info.next,prev:!!e.info.prev&&e.info.prev}))}))}}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",{className:"x",onClick:this.props.close},"X"),s.a.createElement("br",null),s.a.createElement("div",{className:"App"},this.state.showCharacter&&s.a.createElement(s.a.Fragment,null,s.a.createElement(E,{info:this.state.showCharacter,close:function(){return e.setState(Object(p.a)(Object(p.a)({},e.state),{},{showCharacter:!1}))}}))),!this.state.showCharacter&&s.a.createElement("div",{className:"App"},s.a.createElement("h6",null,"Filter characters:"),s.a.createElement("select",{id:"species",onChange:function(){var t=Object(d.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState(Object(p.a)(Object(p.a)({},e.state),{},{filter:a.target.value,currentPage:1}));case 2:return t.next=4,e.fetchFiltered();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},s.a.createElement("option",{value:"Human"},"Human"),s.a.createElement("option",{value:"Humanoid"},"Humanoid"),s.a.createElement("option",{value:"Alien"},"Alien"),s.a.createElement("option",{value:"Disease"},"Disease"),s.a.createElement("option",{value:"Robot"},"Robot"),s.a.createElement("option",{value:"Parasite"},"Parasite")),s.a.createElement("div",{className:"cards"},this.state.characters&&s.a.createElement(s.a.Fragment,null,this.state.characters.length>0&&s.a.createElement(s.a.Fragment,null,this.state.characters.map((function(t,a){var n=t.id,r=t.name,c=t.species,i=t.status,l=t.image,o=t.created;return s.a.createElement("div",{className:"card",key:n},s.a.createElement("img",{className:"card-img-top",src:l,alt:"character"}),s.a.createElement("ul",{className:"list-group list-group-flush"},s.a.createElement("h4",null,s.a.createElement("li",{className:"list-group-item"},s.a.createElement("strong",null,r))),s.a.createElement("li",{className:"list-group-item"},c,", ",i),s.a.createElement("li",{className:"list-group-item"},o.slice(0,10))),s.a.createElement("p",{onClick:function(){return e.setState(Object(p.a)(Object(p.a)({},e.state),{},{showCharacter:e.state.characters[a]}))},className:"btn btn-primary"},"See ",r.split(" ")[0]))}))))),s.a.createElement(g.a,{activePage:this.state.currentPage,itemsCountPerPage:this.state.itemsPerPage,totalItemsCount:this.state.totalCharacters?this.state.totalCharacters:10,pageRangeDisplayed:10,onChange:this.handlePageChange,hideDisabled:!0,itemClass:"page-item",linkClass:"page-link"})))}}]),a}(s.a.Component)),b=(a(27),function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={residents:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchLocations()}},{key:"fetchLocations",value:function(){var e=this;return fetch("https://rickandmortyapi.com/api/location").then((function(e){return e.json()})).then((function(t){return e.setState({data:t})}))}},{key:"fetchResidents",value:function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.data.results[t].residents.map((function(e){return e.slice(42)})),0===this.state.data.results[t].residents.length){e.next=7;break}return e.next=4,fetch("https://rickandmortyapi.com/api/character/".concat(a)).then((function(e){return e.json()})).then((function(e){return console.log("residentsResults: ",e),n.setState({residentsResults:e,location:t,noResults:!1})}));case 4:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",this.setState({residentsResults:!1,noResults:!0}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log("this.state: ",this.state),s.a.createElement("div",{className:"locations"},!this.state.residentsResults&&s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",null,"Choose planet to see all the residents"),s.a.createElement("h2",{className:"x",onClick:this.props.close},"X")),this.state.noResults&&s.a.createElement("div",{className:"fade-out"},s.a.createElement("h3",null,"This planet have no residents")),s.a.createElement("div",{className:"all-locations"},this.state.showCharacter||!this.state.data||this.state.residentsResults?null:this.state.data.results.map((function(t,a){return s.a.createElement("div",{className:"location",onClick:function(){return e.fetchResidents(a)},key:a},t.name)}))),!this.state.showCharacter&&this.state.residentsResults&&s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",null,this.state.data.results[this.state.location].name," planet have ",this.state.residentsResults.length?this.state.residentsResults.length:1," ",this.state.residentsResults.length?"residents:":"resident:"),s.a.createElement("h2",{className:"x",onClick:function(){return e.setState({residentsResults:!1})}},"X"),s.a.createElement("div",{className:"cards"},this.state.residentsResults.length>1?this.state.residentsResults.map((function(t,a){return s.a.createElement("div",{className:"card",key:a},s.a.createElement("img",{src:t.image,alt:"resident",className:"card-img-top"}),s.a.createElement("ul",{className:"list-group list-group-flush"},s.a.createElement("h4",null,s.a.createElement("li",{className:"list-group-item"},s.a.createElement("strong",null,t.name))),s.a.createElement("li",{className:"list-group-item"},t.species,", ",t.status),s.a.createElement("li",{className:"list-group-item"},t.created.slice(0,10)),s.a.createElement("p",{onClick:function(){return e.setState(Object(p.a)(Object(p.a)({},e.state),{},{showCharacter:e.state.residentsResults[a]}))},className:"btn btn-primary"},"See ",t.name.split(" ")[0])))})):s.a.createElement("div",{className:"card"},s.a.createElement("img",{src:this.state.residentsResults.image,className:"card-img-top",alt:"residnt"}),s.a.createElement("ul",{className:"list-group list-group-flush"},s.a.createElement("h4",null,s.a.createElement("li",{className:"list-group-item"},s.a.createElement("strong",null,this.state.residentsResults.name))),s.a.createElement("li",{className:"list-group-item"},this.state.residentsResults.species,", ",this.state.residentsResults.status),s.a.createElement("li",{className:"list-group-item"},this.state.residentsResults.created.slice(0,10)),s.a.createElement("p",{onClick:function(){return e.setState(Object(p.a)(Object(p.a)({},e.state),{},{showCharacter:e.state.residentsResults}))},className:"btn btn-primary"},"See ",this.state.residentsResults.name.split(" ")[0]))))),this.state.showCharacter&&s.a.createElement(E,{info:this.state.showCharacter,close:function(){return e.setState({showCharacter:!1})}}))}}]),a}(s.a.Component)),C=(a(28),function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handlePageChange=function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t&&n.state.next||t&&n.state.prev)&&(a=n.replaceChar(n.state.next||n.state.prev,t,48),console.log("changedNumber: ",a),fetch(a).then((function(e){return e.json()})).then((function(e){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{data:e,totalCharacters:e.info.count,next:e.info.next,prev:!!e.info.prev&&e.info.prev}))}))),e.next=3,n.setState(Object(p.a)(Object(p.a)({},n.state),{},{currentPage:t}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={currentPage:1,totalPages:1,totalCharacters:1,episodeChosen:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchEpisodes()}},{key:"fetchEpisodes",value:function(){var e=this;fetch("https://rickandmortyapi.com/api/episode").then((function(e){return e.json()})).then((function(t){return e.setState({data:t,totalPages:t.info.pages,totalCharacters:t.info.count,next:t.info.next,characters:t.results})}))}},{key:"replaceChar",value:function(e,t,a){return e.substr(0,a)+e.substr(a+1)}},{key:"handleClick",value:function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({episodeChosen:t});case 2:return a=this.state.data.results[t].characters.map((function(e){return e.slice(42)})),console.log("arrayFetch: ",a),e.next=6,fetch("https://rickandmortyapi.com/api/character/".concat(a)).then((function(e){return e.json()})).then((function(e){return n.setState({charactersAppeared:e})}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(this.state),s.a.createElement("div",{className:"episodes-div"},this.state.data&&!1===this.state.episodeChosen&&s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",{style:{marginBottom:"3%"}},"There is ",this.state.data.info.count," episodes"),s.a.createElement("h2",{className:"x",onClick:function(){return e.props.close()}},"X"),this.state.data.results.map((function(t,a){return s.a.createElement("div",{className:"episode-div",onClick:function(){return e.handleClick(a)},key:a},s.a.createElement("p",null,t.episode),s.a.createElement("p",null,t.name),s.a.createElement("p",null,t.air_date))}))),!1!==this.state.episodeChosen&&this.state.charactersAppeared&&s.a.createElement("div",{className:"characters-appeared"},s.a.createElement("h2",null,"Characters that appeared in ",this.state.data.results[this.state.episodeChosen].name),s.a.createElement("h2",{className:"x",onClick:function(){return e.setState({episodeChosen:!1})}},"X"),s.a.createElement("div",{className:"cards cards-episodes"},this.state.charactersAppeared.map((function(t,a){return s.a.createElement("div",{className:"card",key:a},s.a.createElement("img",{className:"card-img-top",src:t.image,alt:"character"}),s.a.createElement("ul",{className:"list-group list-group-flush"},s.a.createElement("h4",null,s.a.createElement("li",{className:"list-group-item"},s.a.createElement("strong",null,t.name))),s.a.createElement("li",{className:"list-group-item"},t.species,", ",t.status),s.a.createElement("li",{className:"list-group-item"},t.created.slice(0,10))),s.a.createElement("p",{onClick:function(){return console.log(a),e.setState(Object(p.a)(Object(p.a)({},e.state),{},{showCharacter:e.state.charactersAppeared[a]}))},className:"btn btn-primary"},"See ",t.name.split(" ")[0]))})))),this.state.showCharacter&&s.a.createElement(E,{info:this.state.showCharacter,close:function(){return e.setState({showCharacter:!1})}}),!1===this.state.episodeChosen&&s.a.createElement(g.a,{className:"paginate",activePage:this.state.currentPage,itemsCountPerPage:20,totalItemsCount:this.state.totalCharacters,pageRangeDisplayed:5,onChange:this.handlePageChange,hideDisabled:!0,itemClass:"page-item",linkClass:"page-link"}))}}]),a}(s.a.Component)),k=(a(29),function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={characters:!1,locations:!1,episodes:!1},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"intro"},s.a.createElement("img",{className:"logo",alt:"rick and morty",src:"/pictures/rickandmorty.png"}),s.a.createElement("h1",null,"Rick and Mortypedia")),!this.state.characters&&!this.state.locations&&!this.state.episodes&&s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"wrapper-main"},s.a.createElement("div",{className:"card"},s.a.createElement("img",{className:"card-img-top",src:"https://rickandmortyapi.com/api/character/avatar/1.jpeg",alt:"character"}),s.a.createElement("p",{onClick:function(){return e.setState({characters:!e.state.characters})},className:"btn btn-primary"},"Explore by characters")),s.a.createElement("div",{className:"card"},s.a.createElement("img",{className:"card-img-top",src:"./pictures/world.png",alt:"world"}),s.a.createElement("p",{onClick:function(){return e.setState({locations:!e.state.locations})},className:"btn btn-primary"},"Explore by Locations")),s.a.createElement("div",{className:"card"},s.a.createElement("img",{className:"card-img-top episodes-img",src:"./pictures/episodes.png",alt:"episode"}),s.a.createElement("p",{onClick:function(){return e.setState({episodes:!e.state.episodes})},className:"btn btn-primary"},"Explore by episodes")))),this.state.characters?s.a.createElement(v,{close:function(){return e.setState({characters:!1})}}):null,this.state.locations?s.a.createElement(b,{close:function(){return e.setState({locations:!1})}}):null,this.state.episodes?s.a.createElement(C,{close:function(){return e.setState({episodes:!1})}}):null)}}]),a}(s.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[15,1,2]]]);
//# sourceMappingURL=main.c298253d.chunk.js.map